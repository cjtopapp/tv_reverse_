<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>TV</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
html,body{width:100%;height:100%;overflow:hidden;background:#000;cursor:none}
video{width:100%;height:100%;object-fit:contain;display:block}
img{width:100%;height:100%;object-fit:contain;display:none;position:absolute;top:0;left:0}
</style>
</head>
<body>
<video id="v" autoplay muted playsinline></video>
<img id="img">
<script>
var normal=[
{type:"video",src:"https://res.cloudinary.com/duvoimzkv/video/upload/v1771554929/opening_reverse_jdegcg.webm"},
{type:"image",src:"https://res.cloudinary.com/duvoimzkv/image/upload/v1771555942/photo_9_fgbd6f.png",duration:20000},
{type:"image",src:"https://res.cloudinary.com/duvoimzkv/image/upload/v1771555939/photo_3_g46ajw.png",duration:20000},
{type:"image",src:"https://res.cloudinary.com/duvoimzkv/image/upload/v1771555938/photo_15_aqsycz.png",duration:20000},
{type:"image",src:"https://res.cloudinary.com/duvoimzkv/image/upload/v1771555941/photo_6_ey7nzs.png",duration:20000},
{type:"image",src:"https://res.cloudinary.com/duvoimzkv/image/upload/v1771555937/photo_11_lpwv4k.png",duration:20000},
{type:"image",src:"https://res.cloudinary.com/duvoimzkv/image/upload/v1771555938/photo_18_w17qbm.png",duration:20000},
{type:"image",src:"https://res.cloudinary.com/duvoimzkv/image/upload/v1771818504/photo_19_nkyxnk.png",duration:20000},  
{type:"image",src:"https://res.cloudinary.com/duvoimzkv/image/upload/v1771555937/photo_1_qsje6x.png",duration:20000},
{type:"image",src:"https://res.cloudinary.com/duvoimzkv/image/upload/v1771555937/photo_14_okcepy.png",duration:20000},
{type:"image",src:"https://res.cloudinary.com/duvoimzkv/image/upload/v1771555944/photo_4_eduszy.png",duration:20000},
{type:"image",src:"https://res.cloudinary.com/duvoimzkv/image/upload/v1771555936/photo_17_bwjvqp.png",duration:20000},
{type:"image",src:"https://res.cloudinary.com/duvoimzkv/image/upload/v1771555942/photo_8_kwgdur.png",duration:20000},
{type:"image",src:"https://res.cloudinary.com/duvoimzkv/image/upload/v1771555935/photo_12_q82tfw.png",duration:20000},
{type:"image",src:"https://res.cloudinary.com/duvoimzkv/image/upload/v1771555940/photo_5_j2xahy.png",duration:20000},
{type:"image",src:"https://res.cloudinary.com/duvoimzkv/image/upload/v1771555943/photo_10_vjvqxj.png",duration:20000},
{type:"image",src:"https://res.cloudinary.com/duvoimzkv/image/upload/v1771555939/photo_2_tr5wjf.png",duration:20000},
{type:"image",src:"https://res.cloudinary.com/duvoimzkv/image/upload/v1771555936/photo_16_t9bgcl.png",duration:20000},
{type:"image",src:"https://res.cloudinary.com/duvoimzkv/image/upload/v1771555941/photo_7_om9epm.png",duration:20000},
{type:"image",src:"https://res.cloudinary.com/duvoimzkv/image/upload/v1771994977/photo_20_szhnvl.png",duration:20000},
{type:"image",src:"https://res.cloudinary.com/duvoimzkv/image/upload/v1771555937/photo_13_oe0ca6.png",duration:20000}
];
var lunch=[
{type:"image",src:"https://res.cloudinary.com/duvoimzkv/image/upload/v1771555936/lunch_jmf8oj.png"}
];
var idx=0;
var mode="";
var v=document.getElementById("v");
var img=document.getElementById("img");
var imgTimer=null;

function getMode(){
var h=new Date().getHours();
var m=new Date().getMinutes();
var t=h*60+m;
if(t>=779&&t<839)return "lunch";
return "normal";
}

function next(){
var list=(mode==="lunch")?lunch:normal;
idx=(idx+1)%list.length;
play();
}

function play(){
var cur=getMode();
if(cur!==mode){mode=cur;idx=0;}
var list=(mode==="lunch")?lunch:normal;
var item=list[idx];
if(imgTimer){clearTimeout(imgTimer);imgTimer=null;}
if(item.type==="video"){
img.style.display="none";
v.style.display="block";
v.src=item.src;
v.muted=true;
v.play();
}else{
v.pause();
v.style.display="none";
img.style.display="block";
img.src=item.src;
if(mode==="normal"){
imgTimer=setTimeout(function(){next();},item.duration);
}
}
}

v.addEventListener("ended",function(){next();});
v.addEventListener("error",function(){next();});

play();

setInterval(function(){
var cur=getMode();
if(cur!==mode)play();
},10000);

document.body.addEventListener("click",function(){
if(document.fullscreenElement)return;
document.documentElement.requestFullscreen().catch(function(){});
});
</script>
</body>
</html>
